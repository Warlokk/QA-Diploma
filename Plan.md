# **ПЛАН АВТОМАТИЗАЦИИ ТЕСТИРОВАНИЯ ПОКУПКИ ТУРА**

В данном плане представлен порядок действий и список необходимых инструментов для автоматизации тестирования различных сценариев покупки тура, основываясь на пользовательском поведении.

## **Перечень сценариев**

В ходе исследования приложения **aqa-shop** были определены следующие возможные сценарии поведения пользователей:

**Оплата собственными средствами с карты**
1. <details><summary>Успешная оплата картой:</summary>
            
    * открытие [страницы](http://localhost:8080) приложения
    * нажатие кнопки **"Купить"**
    * заполнение формы валидными данными с номером карты из набора со статусом **Approved**
    * нажатие кнопки **"Продолжить"**

    **Ожидаемый результат:** Появляется сообщение об успешной покупке, в БД появляется запись о транзакции

    Итого по сценарию 1 тест-кейс.


1. <details><summary>Отклоненная оплата картой:</summary>

    * открытие [страницы](http://localhost:8080) приложения
    * нажатие кнопки **"Купить"**
    * заполнение формы:
        * с номером карты из набора со статусом **Declined**
        * с номером карты не из набора
    * нажатие кнопки **"Продолжить"**

    **Ожидаемый результат:** Появляется сообщение об ошибке, в БД нет записи о покупке
        
    Итого по сценарию 2 тест-кейса.

1. <details><summary>Ошибка при отправке данных:</summary>

    * открытие [страницы](http://localhost:8080) приложения
    * нажатие кнопки **"Купить"**
    * заполнение формы:
        * с невалидным сроком действия карты
        * с невалидным именем
        * с незаполненным номером карты
        * с незаполненным сроком действия карты
        * с незаполненным именем
        * с незаполненным CVC/CVV
    * нажатие кнопки **"Продолжить"**

    **Ожидаемый результат:** Появляется сообщение об ошибке, форма не отправлена
        
    Итого по сценарию 6 тест-кейсов.

**Оформление кредита по данным карты**

4. <details><summary>Успешная оплата картой:</summary>
    
    * открытие [страницы](http://localhost:8080) приложения
    * нажатие кнопки **"Купить в кредит"**
    * заполнение формы валидными данными с номером карты из набора со статусом **Approved**
    * нажатие кнопки **"Продолжить"**

    **Ожидаемый результат:** Появляется сообщение об успешной покупке, в БД появляется запись о транзакции

    Итого по сценарию 1 тест-кейс.


1. <details><summary>Отклоненная оплата картой:</summary>

    * открытие [страницы](http://localhost:8080) приложения
    * нажатие кнопки **"Купить в кредит"**
    * заполнение формы:
        * с номером карты из набора со статусом **Declined**
        * с номером карты не из набора           
    * нажатие кнопки **"Продолжить"**

    **Ожидаемый результат:** Появляется сообщение об ошибке, в БД нет записи о покупке
        
    Итого по сценарию 2 тест-кейса.

1. <details><summary>Ошибка при отправке данных:</summary>

    * открытие [страницы](http://localhost:8080) приложения
    * нажатие кнопки **"Купить"**
    * заполнение формы:
        * с невалидным сроком действия карты
        * с невалидным именем
        * с незаполненным номером карты
        * с незаполненным сроком действия карты
        * с незаполненным именем
        * с незаполненным CVC/CVV
            
    * нажатие кнопки **"Продолжить"**

    **Ожидаемый результат:** Появляется сообщение об ошибке, форма не отправлена

    Итого по сценарию 6 тест-кейсов.    

## **Перечень используемых инструментов**

В рамках реализации мероприятий по автоматизации тестирования будут использованы следующие инструменты:
* **JUnit5** для создания и исполнения тест-кейсов
* **Faker** для генерации тестовых данных
* **Lombok** для упрощения кода
* **Docker** для развертывания контейнеров СУБД и Node
* **Apache Commons DbUtils** для упрощения кода запросов к СУБД
* **Selenide** для навигациия по веб-страницам и заполнения формы 
* **Allure** для формирования отчетности


## **Перечень необходимых данных**

В целях осуществления автоматизации потребуется:

* доступ к SUT
* информация о допустимых вариантах заполнения полей формы
* доступ к СУБД и информация о ее структуре для проверки корректности сохранения данных при отправке формы
* тестовые данные валидных карт


## **Перечень и описание возможных рисков при автоматизации**

При реализации плана возможны следующие риски:

1. отсутствие необходимой информации о правилах заполнения формы - увеличение сроков и влияние на результаты тестирования
1. отсутствие информации о структуре СУБД - увеличение времени для поиска необходимых данных
1. недоступность тестируемого сервиса по техническим причинам - увеличение сроков тестирования.
1. изменения в коде/дизайне тестируемого сервиса - увеличение сроков тестирования.


## **Перечень необходимых специалистов для автоматизации**

Для осуществления плана потребуется один сотрудник с хорошим знанием Java и используемых инструментов. 

## **Интервальная оценка с учётом рисков**

С учетом необходимости создания по большей степени однотипных 18 тест-кейсов, для реализации плана, с учетом рисков, потребуется 13 рабочих часов, из которых:
    
* 2 часа на развертывание тестового окружения,
* 6 часов на написание кода тестов и тестирование,
* 2 часа на формирование отчетных документов,
* 3 часа возможное увеличение сроков при срабатывании рисков.

## **План сдачи работ**

Планируемый срок создания авто-тестов: 28.04.2021

Планируемый срок предоставления отчетных документов по итогам тестирования: 29.04.2021

Планируемый срок предоставления отчетных документов по итогам автоматизации: 30.04.2021